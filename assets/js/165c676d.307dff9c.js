"use strict";(self.webpackChunkdocusaurus_tailwind_shadcn_template=self.webpackChunkdocusaurus_tailwind_shadcn_template||[]).push([["318"],{73224:function(e,n,s){s.r(n),s.d(n,{metadata:()=>t,default:()=>m,frontMatter:()=>c,contentTitle:()=>l,toc:()=>d,assets:()=>r});var t=JSON.parse('{"id":"level-1-design-dspec","title":"Level-1 Design dspec","description":"Level\u20111 translates consistency intent from Level\u20110 into consistency groups (a.k.a. aggregates), commands (conceptual change requests), and concrete mechanisms (unique indexes, reservations, sagas, etc.).","source":"@site/docs/09-level-1-design-dspec.md","sourceDirName":".","slug":"/level-1-design-dspec","permalink":"/dspec-framework/docs/level-1-design-dspec","draft":false,"unlisted":false,"editUrl":"https://github.com/OmnifiedLtd/dspec-framework/tree/main/docs/09-level-1-design-dspec.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"layout":"default","title":"Level-1 Design dspec","nav_order":10},"sidebar":"tutorialSidebar","previous":{"title":"Level-0 Feature dspec","permalink":"/dspec-framework/docs/level-0-feature-dspec"},"next":{"title":"Level-2 Implementation dspec","permalink":"/dspec-framework/docs/level-2-implementation-dspec"}}'),a=s(74848),i=s(84429);let c={layout:"default",title:"Level-1 Design dspec",nav_order:10},l="Level\u20111 \u2014 Design dspec (Consistency Groups, Commands & Mechanisms)",r={},d=[{value:"Identity Commands",id:"identity-commands",level:3},{value:"E\u2011commerce Commands",id:"ecommerce-commands",level:3},{value:"Product Catalog: Brand/Product/Variant (Design)",id:"product-catalog-brandproductvariant-design",level:3},{value:"CRM: Sales\u2011to\u2011Contract (Design)",id:"crm-salestocontract-design",level:3}];function o(e){let n={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"level1--design-dspec-consistency-groups-commands--mechanisms",children:"Level\u20111 \u2014 Design dspec (Consistency Groups, Commands & Mechanisms)"})}),"\n",(0,a.jsxs)(n.p,{children:["Level\u20111 translates ",(0,a.jsx)(n.strong,{children:"consistency intent"})," from Level\u20110 into ",(0,a.jsx)(n.strong,{children:"consistency groups"})," (a.k.a. aggregates), ",(0,a.jsx)(n.strong,{children:"commands"})," (conceptual change requests), and concrete ",(0,a.jsx)(n.strong,{children:"mechanisms"})," (unique indexes, reservations, sagas, etc.)."]}),"\n",(0,a.jsx)(n.h3,{id:"identity-commands",children:"Identity Commands"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"commands:\n  - name: RequestMagicLink\n    target: MagicLink\n    intent: 'Issue a time-bound, single-use link'\n    preconditions: ['User is verified']\n    postconditions:\n      emits: ['MagicLinkIssued']\n\n  - name: RedeemMagicLink\n    target: MagicLink\n    intent: 'Authenticate via issued link'\n    preconditions: ['link-single-use', 'link-expiry']\n    postconditions:\n      emits: ['MagicLinkRedeemed']\n    transactional_expectation: 'atomic-within-group'\n    failure_modes:\n      - violates: 'link-single-use'\n        outcome: 'reject AlreadyRedeemed'\n      - violates: 'link-expiry'\n        outcome: 'reject LinkExpired'\n"})}),"\n",(0,a.jsx)(n.h3,{id:"ecommerce-commands",children:"E\u2011commerce Commands"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(93528).A+"",children:["See full example in ",(0,a.jsx)(n.code,{children:"examples/ecommerce/level1.yaml"})]})}),"\n",(0,a.jsx)(n.h3,{id:"product-catalog-brandproductvariant-design",children:"Product Catalog: Brand/Product/Variant (Design)"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(21785).A+"",children:["See full example in ",(0,a.jsx)(n.code,{children:"examples/catalog/level1.yaml"})]})}),"\n",(0,a.jsx)(n.h3,{id:"crm-salestocontract-design",children:"CRM: Sales\u2011to\u2011Contract (Design)"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(57900).A+"",children:["See full example in ",(0,a.jsx)(n.code,{children:"examples/crm/level1.yaml"})]})})]})}function m(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},21785:function(e,n,s){s.d(n,{A:()=>t});let t=s.p+"assets/files/level1-0adbc89f0d90fa5acf622079e6ce39d0.yaml"},57900:function(e,n,s){s.d(n,{A:()=>t});let t=s.p+"assets/files/level1-12c9958c16cc5efde90296e7f7e2f67d.yaml"},93528:function(e,n,s){s.d(n,{A:()=>t});let t=s.p+"assets/files/level1-b6345235a258370dcab4536558f0793f.yaml"},84429:function(e,n,s){s.d(n,{R:()=>c,x:()=>l});var t=s(96540);let a={},i=t.createContext(a);function c(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);